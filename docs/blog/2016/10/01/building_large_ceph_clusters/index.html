<!DOCTYPE html>
<html lang="en">

  <head>
  <meta charset="utf-8">
  <meta name="robots" content="all,follow">
  <meta name="googlebot" content="index,follow,snippet,archive">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Building Large Ceph Clusters</title>
  <meta name="author" content="Hans Chris Jones" />
  <meta name="keywords" content="ceph aws s3 openstack storage object store">
  <meta name="description" content="Personal website and blog for Hans Chris Jones on Ceph, AWS S3, Object Storage and Block Storage">
  <meta name="generator" content="Hugo 0.74.3" />

  <link href='//fonts.googleapis.com/css?family=Roboto:400,100,100italic,300,300italic,500,700,800' rel='stylesheet' type='text/css'>
  
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

  
  <link href="https://lambdastack.io/css/animate.css" rel="stylesheet">

  
  
    <link href="https://lambdastack.io/css/style.green.css" rel="stylesheet" id="theme-stylesheet">
  

  
  <link href="https://lambdastack.io/css/custom.css" rel="stylesheet">
  
    
  
  <link rel="shortcut icon" href="https://lambdastack.io/img/favicon.ico" type="image/x-icon" />
  <link rel="apple-touch-icon" href="https://lambdastack.io/img/lambdastack-200x200.png" />
  
  <link href="https://lambdastack.io/css/owl.carousel.css" rel="stylesheet">
  <link href="https://lambdastack.io/css/owl.theme.css" rel="stylesheet">
  <link rel="alternate" href="https://lambdastack.io/index.xml" type="application/rss+xml" title="LambdaStack">
  
  <meta property="og:title" content="Building Large Ceph Clusters" />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="http://lambdastack.io" />
  <meta property="og:image" content="img/lambdastack-avatar.svg" />
  
  <script type='text/javascript' src='//platform-api.sharethis.com/js/sharethis.js#property=58aa244335de59001102d9ba&product=sop' async='async'></script>
  <script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=58aa18cb82a5e50012745e6e&product=inline-share-buttons"></script>
</head>


  <body>

    <div id="all">

        <header>

          <div class="navbar-affixed-top" data-spy="affix" data-offset-top="200">

    <div class="navbar navbar-default yamm" role="navigation" id="navbar">

        <div class="container">
            <div class="navbar-header">
                <a class="navbar-brand home" href="https://lambdastack.io/">
                    <img src="https://lambdastack.io/img/lambdastack-avatar.svg" alt="Building Large Ceph Clusters logo" class="hidden-xs hidden-sm" height="50px">
                    <img src="https://lambdastack.io/img/lambdastack-avatar-smallest.svg" alt="Building Large Ceph Clusters logo" class="visible-xs visible-sm" height="40px">
                    <span class="sr-only">Building Large Ceph Clusters - go to homepage</span>
                </a>
                <div class="navbar-buttons">
                    <button type="button" class="navbar-toggle btn-template-main" data-toggle="collapse" data-target="#navigation">
                        <span class="sr-only">Toggle navigation</span>
                        <i class="fa fa-align-justify"></i>
                    </button>
                </div>
                <div style="margin-top: 13px; margin-left: 50px; float: left;">
                    <span title="Hans Chris Jones"><a href="https://linkedin.com/in/hanscj1"><img class="testimonial name-picture" alt="Hans Chris Jones" src="/img/cj.png" height="40px" width="40px" style="margin-bottom: 20px;"></a></span>
                    <a href="https://twitter.com/hanscj1"><i class="fa fa-twitter fa-3x" aria-hidden="true"></i></a>
                    <a href="https://github.com/lambdastackio"><i class="fa fa-github fa-3x" style="margin-left: 10px;" aria-hidden="true"></i></a>
                    <a href="https://linkedin.com/in/hanscj1"><i class="fa fa-linkedin fa-3x" style="margin-left: 10px;" aria-hidden="true"></i></a>
                </div>
            </div>
            

            <div class="navbar-collapse collapse" id="navigation">
                <ul class="nav navbar-nav navbar-right">
                    
                    <li class="dropdown">
                        <a href="/">Home</a>
                    </li>
                    
                    <li class="dropdown">
                        <a href="/blog/">Blog</a>
                    </li>
                    
                    <li class="dropdown">
                        <a href="/architectures/">Architectures</a>
                    </li>
                    
                    <li class="dropdown">
                        <a href="/code/">Code</a>
                    </li>
                    
                    <li class="dropdown">
                        <a href="/faq/">FAQ</a>
                    </li>
                    
                    <li class="dropdown">
                        <a href="/about/">About</a>
                    </li>
                    
                </ul>
            </div>
            

            <div class="collapse clearfix" id="search">

                <form class="navbar-form" role="search">
                    <div class="input-group">
                        <input type="text" class="form-control" placeholder="Search">
                        <span class="input-group-btn">

                    <button type="submit" class="btn btn-template-main"><i class="fa fa-search"></i></button>

                </span>
                    </div>
                </form>

            </div>
            

        </div>
    </div>
    
    <div align="center" class="text" style="font-style: italic;">
        
        <p>"There is no compression algorithm for experience" -- Andy Jassy (AWS)</p>
    </div>
</div>





        </header>

        <div id="heading-breadcrumbs">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <h1>Building Large Ceph Clusters</h1>
            </div>
        </div>
    </div>
</div>


        <div id="content">
            <div class="container">

                <div class="row">

                    

                    <div class="col-md-9" id="blog-post">

                        <p class="text-muted text-uppercase mb-small text-right">By <a href="#">Hans Chris Jones</a> | October 1, 2016</p>

                        <div class="sharethis-inline-share-buttons"></div>
                        <br/>

                        <div id="post-content">
                          <p>Ceph is a very complex distributed storage system that provides an Object Store, Block Storage Devices and Distributed File System. It has a built-in installation program called Ceph-Deploy but it&rsquo;s design is for very simple and small installations. There are two official automated installation and maintenance systems for Ceph, Ceph-Ansible and Ceph-Chef. As the name implies, Ceph-Ansible is built for the Ansible while Ceph-Chef is built for Chef. I will focus on Ceph-Chef for the Chef environment.</p>
<p>Ceph-Chef is managed in the Ceph github repo and it&rsquo;s a Chef cookbook that allows for a lot flexibility. Since Ceph-Chef is a cookbook it relies on a larger Chef repo project that you would create and customized for your environment. A great example Chef project that uses Ceph-Chef can be found at Bloomberg&rsquo;s github repo called Chef-BCS. Chef-BCS is what powers the large Ceph installations at Bloomberg.</p>
<p>The recommend way to get started using both Ceph-Chef and Chef-BCS is to clone Chef-BCS on github.com. Once you have forked it then clone it to your local environment (i.e., an OSX or Linux based environment - have not tested Windows based environment). To just kick the tires so to speak, make sure VirtualBox and Vagrant are installed.</p>
<p>Once the dependencies are installed; inside the root of the cloned project you can find a <code>build_dev.sh</code> script (if not present then simply change to the /<!-- raw HTML omitted -->/bootstrap/vms/vagrant directory and enter ./CEPH_UP.sh). It will simply launch the default VirtualBox install of Ceph which consists of four VMs (1 - Bootstrap VM and 3 - Ceph VMs). The script also changes the directory to /<!-- raw HTML omitted -->/bootstrap/vms/vagrant. Inside that directory you can see Ceph running on each Ceph VM with &lsquo;vagrant ssh ceph-vm1&rsquo; (change vm1 to vm2 or vm3 to see each Ceph VM).</p>
<p>Now that you have a default Ceph Object Store VM cluster running locally, you can change ceph.conf settings and restart the processes to inspect the changes before building your real cluster. There will be more how-to articles coming soon.</p>

                        </div>

                        <br/>
                        <div class="sharethis-inline-share-buttons"></div>

                        
                        
                        <div id="comments">
                            <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "lambdastack-io" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
                        </div>
                        

                    </div>
                    

                    

                    

                    <div class="col-md-3">

                        

                        

<div class="panel panel-default sidebar-menu">

    <div class="panel-heading">
      <h3 class="panel-title">Search</h3>
    </div>

    <div class="panel-body">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" role="search">
            <div class="input-group">
                <input type="search" name="q" class="form-control" placeholder="Search">
                <input type="hidden" name="sitesearch" value="https://lambdastack.io/">
                <span class="input-group-btn">
                    <button type="submit" class="btn btn-template-main"><i class="fas fa-search"></i></button>
                </span>
            </div>
        </form>
    </div>
</div>







<div class="panel panel-default sidebar-menu">

    <div class="panel-heading">
        <h3 class="panel-title">Categories</h3>
    </div>

    <div class="panel-body">
        <ul class="nav nav-pills nav-stacked">
            
            
            <li>
                <a href="/categories/agile">agile (3)</a>
            </li>
            
            <li>
                <a href="/categories/architectures">architectures (1)</a>
            </li>
            
            <li>
                <a href="/categories/aws">aws (1)</a>
            </li>
            
            <li>
                <a href="/categories/ceph">ceph (13)</a>
            </li>
            
            <li>
                <a href="/categories/chef">chef (3)</a>
            </li>
            
            <li>
                <a href="/categories/cicd">cicd (4)</a>
            </li>
            
            <li>
                <a href="/categories/code">code (2)</a>
            </li>
            
            <li>
                <a href="/categories/drives">drives (2)</a>
            </li>
            
            <li>
                <a href="/categories/erasure-coding">erasure-coding (1)</a>
            </li>
            
            <li>
                <a href="/categories/hardware">hardware (1)</a>
            </li>
            
            <li>
                <a href="/categories/infrastructure">infrastructure (1)</a>
            </li>
            
            <li>
                <a href="/categories/license">license (1)</a>
            </li>
            
            <li>
                <a href="/categories/load-balancers">load-balancers (1)</a>
            </li>
            
            <li>
                <a href="/categories/misc">misc (2)</a>
            </li>
            
            <li>
                <a href="/categories/networking">networking (2)</a>
            </li>
            
            <li>
                <a href="/categories/open">open (1)</a>
            </li>
            
            <li>
                <a href="/categories/opensource">opensource (1)</a>
            </li>
            
            <li>
                <a href="/categories/performance">performance (1)</a>
            </li>
            
            <li>
                <a href="/categories/presentations">presentations (1)</a>
            </li>
            
            <li>
                <a href="/categories/redhat">redhat (1)</a>
            </li>
            
            <li>
                <a href="/categories/reviews">reviews (1)</a>
            </li>
            
            <li>
                <a href="/categories/rust">rust (3)</a>
            </li>
            
            <li>
                <a href="/categories/s3">s3 (6)</a>
            </li>
            
            <li>
                <a href="/categories/sla">sla (1)</a>
            </li>
            
            <li>
                <a href="/categories/storage">storage (3)</a>
            </li>
            
            <li>
                <a href="/categories/team">team (1)</a>
            </li>
            
            <li>
                <a href="/categories/vm">vm (1)</a>
            </li>
            
            <li>
                <a href="/categories/web">web (2)</a>
            </li>
            
        </ul>
    </div>

</div>








<div class="panel sidebar-menu">

    <div class="panel-heading">
        <h3 class="panel-title">Tags</h3>
    </div>

    <div class="panel-body">
        <ul class="tag-cloud">
            
            
            <li>
                <a href="/tags/agile"><i class="fas fa-tags"></i> agile</a>
            </li>
            
            <li>
                <a href="/tags/api"><i class="fas fa-tags"></i> api</a>
            </li>
            
            <li>
                <a href="/tags/architectures"><i class="fas fa-tags"></i> architectures</a>
            </li>
            
            <li>
                <a href="/tags/aws"><i class="fas fa-tags"></i> aws</a>
            </li>
            
            <li>
                <a href="/tags/block-storage"><i class="fas fa-tags"></i> block-storage</a>
            </li>
            
            <li>
                <a href="/tags/ceph"><i class="fas fa-tags"></i> ceph</a>
            </li>
            
            <li>
                <a href="/tags/chef"><i class="fas fa-tags"></i> chef</a>
            </li>
            
            <li>
                <a href="/tags/cicd"><i class="fas fa-tags"></i> cicd</a>
            </li>
            
            <li>
                <a href="/tags/code"><i class="fas fa-tags"></i> code</a>
            </li>
            
            <li>
                <a href="/tags/drives"><i class="fas fa-tags"></i> drives</a>
            </li>
            
            <li>
                <a href="/tags/erasure-coding"><i class="fas fa-tags"></i> erasure-coding</a>
            </li>
            
            <li>
                <a href="/tags/hardware"><i class="fas fa-tags"></i> hardware</a>
            </li>
            
            <li>
                <a href="/tags/infrastructure"><i class="fas fa-tags"></i> infrastructure</a>
            </li>
            
            <li>
                <a href="/tags/license"><i class="fas fa-tags"></i> license</a>
            </li>
            
            <li>
                <a href="/tags/load-balancers"><i class="fas fa-tags"></i> load-balancers</a>
            </li>
            
            <li>
                <a href="/tags/msic"><i class="fas fa-tags"></i> msic</a>
            </li>
            
            <li>
                <a href="/tags/networking"><i class="fas fa-tags"></i> networking</a>
            </li>
            
            <li>
                <a href="/tags/open"><i class="fas fa-tags"></i> open</a>
            </li>
            
            <li>
                <a href="/tags/opensource"><i class="fas fa-tags"></i> opensource</a>
            </li>
            
            <li>
                <a href="/tags/performance"><i class="fas fa-tags"></i> performance</a>
            </li>
            
            <li>
                <a href="/tags/presentations"><i class="fas fa-tags"></i> presentations</a>
            </li>
            
            <li>
                <a href="/tags/redhat"><i class="fas fa-tags"></i> redhat</a>
            </li>
            
            <li>
                <a href="/tags/redis"><i class="fas fa-tags"></i> redis</a>
            </li>
            
            <li>
                <a href="/tags/reviews"><i class="fas fa-tags"></i> reviews</a>
            </li>
            
            <li>
                <a href="/tags/rust"><i class="fas fa-tags"></i> rust</a>
            </li>
            
            <li>
                <a href="/tags/s3"><i class="fas fa-tags"></i> s3</a>
            </li>
            
            <li>
                <a href="/tags/sla"><i class="fas fa-tags"></i> sla</a>
            </li>
            
            <li>
                <a href="/tags/storage"><i class="fas fa-tags"></i> storage</a>
            </li>
            
            <li>
                <a href="/tags/tcp"><i class="fas fa-tags"></i> tcp</a>
            </li>
            
            <li>
                <a href="/tags/team"><i class="fas fa-tags"></i> team</a>
            </li>
            
            <li>
                <a href="/tags/vm"><i class="fas fa-tags"></i> vm</a>
            </li>
            
            <li>
                <a href="/tags/web"><i class="fas fa-tags"></i> web</a>
            </li>
            
        </ul>
    </div>

</div>






                        

                    </div>
                    

                    

                </div>
                

            </div>
            
        </div>
        

        <footer id="footer">
    <div class="container">
        
        <div class="col-md-4 col-sm-6">
            <h4>About</h4>
            <p>The LambdaStack Project is a collection of OSS (Open Source Software) Microservices projects. Each of the Microservices range from a powerful Hybrid Web Stack to full Software-Defined-Storage management.</p>
            <hr class="hidden-md hidden-lg hidden-sm">
        </div>
        
        
        <div class="col-md-4 col-sm-6">
             
            <h4>Recent posts</h4>
            <div class="blog-entries">
                
                <div class="item same-height-row clearfix">
                    <div class="image same-height-always">
                        <a href="https://lambdastack.io/blog/">
                          
                            <img src="https://lambdastack.io/img/placeholder.png" class="img-responsive" alt="">
                          
                        </a>
                    </div>
                    <div class="name same-height-always">
                        <h5><a href="https://lambdastack.io/blog/">Blogs</a></h5>
                    </div>
                </div>
                
                <div class="item same-height-row clearfix">
                    <div class="image same-height-always">
                        <a href="https://lambdastack.io/blog/2017/03/18/hardware-sizing-ceph-rgw/">
                          
                            <img src="https://lambdastack.io/img/ceph-github.png" class="img-responsive" alt="">
                          
                        </a>
                    </div>
                    <div class="name same-height-always">
                        <h5><a href="https://lambdastack.io/blog/2017/03/18/hardware-sizing-ceph-rgw/">Hardware Sizing - Ceph Radosgw (RGW)</a></h5>
                    </div>
                </div>
                
                <div class="item same-height-row clearfix">
                    <div class="image same-height-always">
                        <a href="https://lambdastack.io/blog/2017/03/09/aws-vs-onprem/">
                          
                            <img src="https://lambdastack.io/img/aws-s3-worksheet.png" class="img-responsive" alt="">
                          
                        </a>
                    </div>
                    <div class="name same-height-always">
                        <h5><a href="https://lambdastack.io/blog/2017/03/09/aws-vs-onprem/">AWS S3 vs On-Premises</a></h5>
                    </div>
                </div>
                
            </div>
            <hr class="hidden-md hidden-lg">
             
        </div>
        
        
        <div class="col-md-4 col-sm-6">
            <h4>Contact</h4>
            <p><strong>Hans Chris Jones</strong>
        <br>New York
        <br>
        <div style="float: left;">
            <a href="https://twitter.com/hanscj1"><i class="fa fa-twitter fa-3x" aria-hidden="true"></i></a>
            <a href="https://github.com/lambdastackio"><i class="fa fa-github fa-3x" style="margin-left: 10px;" aria-hidden="true"></i></a>
            <a href="https://linkedin.com/in/hanscj1"><i class="fa fa-linkedin fa-3x" style="margin-left: 10px;" aria-hidden="true"></i></a>
        </div>
      </p>
      
            
            <hr class="hidden-md hidden-lg hidden-sm">
        </div>
        
        
    </div>
    
</footer>

<div id="copyright">
    <div class="container">
        <div class="col-md-12">
            
            <p class="pull-left"><p>Copyright (c) 2021, Hans Chris Jones; all rights reserved. All comments and views are my own and not my employer's.</p><p>All content originating from Hans Chris Jones is licensed under <a href="https://creativecommons.org/licenses/by-sa/4.0/">Attribution-ShareAlike 4.0 International</a></p><p><a href="https://www.linkedin.com/in/hanscj1/">Click here to contact me.</a></p></p>
            
            <p class="pull-right">
            </p>
        </div>
    </div>
</div>




    </div>
    

    
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-84702578-1', 'auto');
	
	ga('send', 'pageview');
}
</script>

<script src="//code.jquery.com/jquery-3.1.1.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<script src="//cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/waypoints/4.0.1/jquery.waypoints.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/Counter-Up/1.0/jquery.counterup.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/jquery-parallax/1.1.3/jquery-parallax.js"></script>
<script src="https://lambdastack.io/js/front.js"></script>


<script src="https://lambdastack.io/js/owl.carousel.min.js"></script>


  </body>
</html>
